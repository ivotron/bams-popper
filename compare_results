#!/usr/bin/env python
import os
import filecmp

machines = os.listdir('wrfoutput/')

if not machines:
    print("No output folders found")
    exit()

if len(machines) == 1:
    print("Only 1 output folder found")
    exit()

first_machine = machines[0]
files = os.listdir('wrfoutput/' + first_machine)

if len(files) != 13:
    print("Expecting 13 files, found " + str(len(files)))
    exit()

for machine in machines[1:]:
    for f in files:
        f1 = 'wrfoutput/{}/{}'.format(first_machine, f)
        f2 = 'wrfoutput/{}/{}'.format(machine, f)
        if not filecmp.cmp(f1, f2):
            raise Exception('Error: ' + f1 + ' not equal to ' + f2)
